{"version":3,"file":"static/webpack/static/development/pages/blog.js.5d529cba1832c6f3d739.hot-update.js","sources":["webpack:///./pages/blog.tsx"],"sourcesContent":["import { NextPage } from 'next';\nimport Head from 'next/head';\nimport Layout from '../components/Layout';\nimport Section from '../components/Section';\n\nimport matter from 'gray-matter';\n\nimport BlogPostCard from '../components/BlogPostCard';\n\ninterface BlogProps {\n  posts: Array<PostObject>;\n}\n\ninterface PostObject {\n  document: any;\n  slug: string;\n}\n\ninterface PostData {\n  data: PostInfo;\n}\n\ninterface PostInfo {\n  title: string;\n  subtitle: string;\n  date: string;\n  timeToRead: string;\n}\n\nexport function reformatDate(fullDate: string) {\n  const date = new Date(fullDate);\n  return date.toLocaleString('en-US', { month: 'long', year: 'numeric', day: 'numeric' });\n}\n\nconst Blog: NextPage<BlogProps> = ({\n  posts\n}) => {\n  return(\n    <Layout>\n      <Head>\n        <meta name=\"description\" content=\"About me, my projects, and my blog\"/>\n        <title>Perry Raskin | Blog</title>\n      </Head>\n      <Section>\n        <h1>Blog</h1>\n        <p>\n        This is my personal blog. \n        I hope to share what I'm learning, along with ideas I'm passionate about.\n        Feel free to share your thoughts or ask questions!\n        </p>\n      </Section>\n      <Section extend=\"mt-0\">\n        <div className=\"flex flex-wrap -mx-2\">\n          {posts.map((post) => {\n            const title = post.document.data.title;\n            //const timeToRead = post.timeToRead;\n            const subtitle = post.document.data.subtitle;\n            const slug = post.slug;\n            const date = post.document.data.date;\n\n            return (\n              <BlogPostCard\n                key={slug}\n                title={title}\n                subtitle={subtitle}\n                timeToRead=\"2\"\n                slug={`/blog/${slug}`}\n                date={reformatDate(date)}\n              />\n            );\n          })}\n        </div>\n      </Section>\n    </Layout>\n  )\n}\n\nBlog.getInitialProps = async => {\n  // ctx contains the query param\n  // get all .md files from the src/posts dir\n  const posts = (context => {\n    // grab all the files matching this context\n    const keys = context.keys();\n    // grab the values from these files\n    const values = keys.map(context);\n    // go through each file\n    const data = keys.map((key: any, index: any) => {\n      // Create slug from filename\n      const slug = key\n        .replace(/^.*[\\\\\\/]/, '')\n        .split('.')\n        .slice(0, -1)\n        .join('.')\n      // get the current file value\n      const value: any = values[index];\n      // Parse frontmatter & markdownbody for the current file\n      const document = matter(value.default);\n      \n      // return the .md content & pretty slug\n      return {\n        document,\n        slug,\n      }\n    })\n    // return all the posts\n    return data\n  })(require.context('../posts', true, /\\.md$/));\n\n  return {\n    posts: posts,\n  }\n}\n\nexport default Blog;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAEA;AAEA;AAsBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;;;;A","sourceRoot":""}